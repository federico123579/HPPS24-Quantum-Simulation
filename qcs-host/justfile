alias bd := build-debug
alias br := build-release
alias d := doc
alias t := test

_default:
    just --choose

run-expansion: build-release
    ./target/release/expansion
    mv golden-vectors.dat ../../hls/src/tests/tensor-expansion/golden-vectors.dat

run-matmul: build-release
    ./target/release/matmul
    mv golden-vectors.dat ../../hls/src/tests/matrix-multiplication/golden-vectors.dat

run-combined: build-release
    ./target/release/combined
    mv golden-vectors.dat ../../hls/src/tests/combined/golden-vectors.dat

build-debug:
    cargo build

build-release:
    cargo build --release

doc:
    cargo doc

test:
    cargo nextest run && cargo test --doc
